<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Book</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<script>
    async function Addbook(event){
       event.preventDefault();
       const bookname =document.getElementById("bookname").value;
       const booktype = document.getElementById("booktype").value;
       const authorname = document.getElementById("authorname").value;
       const price = document.getElementById("price").value;
      
    //    console.log(bookname,booktype,authorname,price);

       const response = await fetch("http://127.0.0.1:8000/addbook",{
           method:"POST",
           credentials:'include',
           headers:{
               'Content-Type':'application/json'
           },
           body:JSON.stringify(
           {
               bookname: bookname,
               booktype:booktype,
               authorname:authorname,
               price:price
           })
       });
       console.log(response.status);
       if(response.status == 201){
        window.location.href="viewbook.html";
       console.log("Book Added")
       alert("Book Added")
       }
       else if(response.status == 200){
        console.log("Book already exist")
           alert("Book already exist")
          
       }

   }
  </script>
<body class="bg-[url('./images/Book.jpg')] bg-cover">
    <nav class="bg-white shadow-lg h-14 mt-4">
        <div class="float-right mt-4">
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="home.html">Home</a>
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="aboutus.html">About Us</a>
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="viewbook.html">View Book</a>
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="addbook.html">Add Book</a>
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="contactus.html">Contact Us</a>
        <a class="mx-4 text-2xl hover:bg-green-300 rounded-lg py-2 px-4" href="contactus.html">Login</a>
        </div>
        <div>
            <img class="w-14 h-14 mt-4 my-2" src="download.jpeg" alt="">
          </div>
        </nav> 

         <!-- container  -->

        <div class=" rounded-lg  ml-[500px] mt-44 w-[900px] bg-white h-[600px]">
            
            <p class="text-4xl font-semibold text-center py-8  ">Add Book</p>
            <p class="inline-flex mt-12 text-xl ml-16">Name:</p>
            <input class="text-xl hover:ring ml-24 p-2 bg-blue-200 rounded-lg w-[600px] placeholder:text-black" type="text"  id="bookname" required placeholder="Enter your new book"><br><br>
            <p class="inline-flex text-xl ml-16 ">Type :</p>
            <select  name="" id="booktype" class="text-xl hover:ring ml-24 w-[600px] p-2 bg-blue-200 rounded-lg placeholder:text-black">
               <option value="Fiction">Fiction</option>
               <option value="Short Stories">Short Stories</option>
               <option value="Horrer">Horrer</option>
               <option value="Kids Story">Kids Story</option>
               <option value="Comedy">Comedy</option>
            </select><br><br>
            <label class="text-xl ml-16" for="">Author Name:</label>
            <input class="text-xl hover:ring ml-6 p-2 bg-blue-200 rounded-lg w-[600px] placeholder:text-black" type="text" id="authorname" required placeholder="Enter author name"><br><br>
            <p class="inline-flex mt-4 text-xl ml-16 ">Price:</p>
            <input class="text-xl hover:ring ml-24 p-2 bg-blue-200 rounded-lg w-[600px] placeholder:text-black" type="text"  id="price" required placeholder="Enter your new book"><br><br>
            <input class="text-xl ml-[260px] mt-6 border-2 border-solid border-black px-10 rounded-2xl hover:bg-sky-500/100 bg-blue-200  w-[400px]" onclick="Addbook(event)" type="button" value="Add Book"></a>
            <br><br>
            
        </div>

        <!-- container close  -->
        <!-- <footer class="mt-[220px]">
            <p class="text-center py-2  bg-blue-200 text-blal mx-auto">&copy;This page all right reserver</p>
          </footer> -->
</body>
</html>